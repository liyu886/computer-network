<h4>5-23

1. 第一个报文携带的数据序号是70~99，所以它共携带了30个字节的数据。
2. 主机B收到第一个报文之后发回的确认号是100.
3. 第二个报文段的数据序号应该是100~179，所以它应该有80个字节
4. 应该是70

<h4>5-39

1. 如下图

   <img src="C:\Users\16435\AppData\Roaming\Typora\typora-user-images\image-20210510094545106.png" alt="image-20210510094545106" style="zoom:33%;" />

2. 慢开始的时间间隔是[1, 6] 和 [23, 26]

3. 拥塞避免的时间间隔是 [6, 16] 和 [17, 22]

4. 第16轮次之后发送方是通过收到了三个重复确认检测到的丢失报文段；在第22轮次之后，发送方是通过超时检测到丢失了报文段。

5. | 轮次 | ssthresh |
   | :--: | :------: |
   |  1   |    32    |
   |  18  |    21    |
   |  24  |    13    |

6. 第7轮。因为到第6轮次时已经发送了1+2+4+8+16+32 = 63 个报文段，第7轮次可以发送33个，所以第70个报文段在第7轮次。

7. cwnd 和 ssthresh应设为 4.

<h4>5-47

1. 如图，当发送窗口较时，服务器可以连续的把文件发送完，边接收确认信息，边发送新数据。由图即可推导出下列公式。
   $$
   T = 2RTT + L/R
   $$
   <img src="C:\Users\16435\AppData\Roaming\Typora\typora-user-images\image-20210510091159123.png" alt="image-20210510091159123" style="zoom:67%;" />

   

2. 如图，当发送窗口较小时，发送几个报文段就要停下来，等待确认后再继续发送。

   由图，上一次发送完到下一次开始发送之间的时间停顿是
   $$
   M/R + RTT -nM/R
   $$
   一共发生了上述停顿K-1次，再加上发送窗口发送L字节文件需要的`L/R`的时间，以及一开始确立连接的2RTT，最后可以得到总时间
   $$
   T = 2RRT + L/R +(K-1)[M/R + RTT -nM/R]
   $$
   

<img src="C:\Users\16435\AppData\Roaming\Typora\typora-user-images\image-20210510092045527.png" alt="image-20210510092045527" style="zoom: 33%;" />